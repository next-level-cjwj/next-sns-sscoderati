
### Server Action 사용 시 주의할 점
요청이 실패해도 개발자 도구 상에서는 성공으로 나온다. 정상적으로 처리가 안되는 것 같으면 서버의 로그를 확인하자.

### API 요청 때 쿠키를 사용하는 경우
queryFn, mutationFn 등의 옵션에 아래 옵션을 추가해줘야한다.
(axios에서는 `withCredential: true`)
```js
{
// ...
  credentials: 'include'
}
```

### rewrites()
이미지 태그에서 특정 경로로 요청하는 경우, 그 경로를 숨기고 재할당해줄 수 있다.
```js
module.exports = {
  async rewrites() {
    return [
      {
        source: '/about',
        destination: '/',
      },
    ]
  },
}
```

### encodeURIComponent()
주소에서 특정 기능을 하는 문자(# 등)를 %인코딩해준다.

### Optimistic Update
클라이언트 상에서 api 요청이 동반되는 액션에 대해 유저에게 보다 빠른 피드백을 주기 위해 쓸 수 있는 방법이다.
어떤 액션의 피드백이 api 요청의 결과에 따라 달라진다고 했을 때, 유저가 성공하는 결과를 기대하고 액션을 취하면 api 요청의 결과를 받기 전에 일단 성공했다는 피드백을 먼저 보여준 뒤, 만약 실패한다면 해당 피드백을 회수하는 방법이다.
그래서 이걸 '낙관적 업데이트'라고 한다.

좋아요를 예로 들면 아래와 같다.
- 비어있는 하트를 유저가 클릭하면 좋아요 등록 api 요청을 보냄과 동시에 하트를 채워준다.
- api 요청 결과가 성공이면 그대로 하트의 상태를 유지한다.
- api 요청 결과가 실패라면 하트를 다시 비어있는 상태로 돌려준다.
  유저에게 빠르게 피드백을 줄 수 있다는 점에서 좋지만, 유저가 액션을 취할 때 큰 비용이 들지 않는 경우에만 적용하는 것이 좋다.
- 좋아요 / 팔로우 등 -> 적합
- 글쓰기 / 수정 등 -> 부적합

### Redux대신 Zustand 쓰는 이유
- Provider로 안 감싸도 전역적 상태공유 가능
- action함수, reducer 생성, dispatch 등 귀찮은거 안해도 됨
- 러닝 커브가 낮아서 사용성 매우 좋음

